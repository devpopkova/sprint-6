### **Проблемы текущей архитектуры**

#### **1. Синхронные REST-запросы к `ins-product-aggregator` → увеличенные задержки**
- Каждый вызов `ins-product-aggregator` требует запросов ко всем страховым компаниям. Из-за этого ответы могут приходить с задержками, замедляя работу `core-app` и `ins-comp-settlement`.

#### **2. Проблемы с масштабированием**
- Сейчас сервис работает с **5 страховыми компаниями**, но планируется подключение **ещё 5 компаний**.
- Это **удвоит нагрузку** на `ins-product-aggregator`

#### **3. Ошибки API из-за высокой нагрузки**
- `core-app` делает запрос **каждые 15 минут**, но API страховых компаний иногда **недоступны**.
- `ins-comp-settlement` делает запрос **раз в сутки ночью**, но если API недоступно в этот момент, сервис **теряет данные**.

#### **4. Неэффективный обмен данными между `core-app` и `ins-comp-settlement`**
- `ins-comp-settlement` **раз в сутки** делает синхронный REST-запрос в `core-app`, чтобы получить оформленные страховки.
- Если `core-app` не отвечает в этот момент → `ins-comp-settlement` **не получает данные и не может сформировать отчёт**.

---

### **Риски при увеличении количества страховых компаний**

#### **1. Удвоение нагрузки на `ins-product-aggregator`**
- Если не изменить архитектуру, то при росте числа страховых компаний **время ответа увеличится в 2 раза**.
- Это может привести к перегрузке сервиса и значительным задержкам.

#### **2. Риски отказа API страховых компаний**
- Чем больше страховых компаний, тем выше вероятность, что **одна из них будет недоступна в момент запроса**.
- Если API страховой компании не отвечает, это может **заблокировать работу `core-app` и `ins-comp-settlement`**.

#### **3. Проблемы с отказоустойчивостью и задержками**
- `core-app` и `ins-comp-settlement` **зависимы от внешних API**.
- Если сервисы **не могут быстро получить данные**, это приводит к **задержкам и сбоям во всей системе**.
